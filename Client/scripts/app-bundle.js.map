{"version":3,"sources":["src/app.ts","src/environment.ts","src/main.ts","src/messages.ts","src/components/battle-stack.ts","src/components/log-output.ts","src/components/main-menu.ts","src/components/modal-content.ts","src/components/player-inventory.ts","src/components/player-overview.ts","src/components/player-templates.ts","src/components/progress-bar.ts","src/components/template-bag.ts","src/components/template-manager.ts","src/domain/AllItems.ts","src/domain/AllRecipies.ts","src/domain/Body.ts","src/domain/monster.ts","src/domain/MonsterTemplate.ts","src/domain/Player.ts","src/factories/ItemFactory.ts","src/factories/MonsterFactory.ts","src/factories/PlayerFactory.ts","src/helpers/Array.ts","src/helpers/Attribute.ts","src/helpers/Combat.ts","src/helpers/Dice.ts","src/helpers/Experience.ts","src/helpers/GameLoop.ts","src/helpers/LootDropper.ts","src/resources/index.ts","src/components/loot/loot-stack.ts","src/domain/Enums/Rarity.ts","src/domain/Items/Gold.ts","src/domain/Items/Loot.ts","src/domain/Items/Recipe.ts","src/domain/Items/Weapon.ts","src/domain/Recipies/DragonRecipe.ts","src/domain/Recipies/KoboldRecipe.ts","C:/Git/Home/StackRpg/Client/src/domain/Recipies/MonsterRecipe.js","src/domain/Recipies/WetPaperBagRecipe.ts","src/domain/Stores/PlayerStore.ts","src/domain/Stores/TemplateStore.ts","styles/styles.less"],"names":[],"mappings":"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","file":"app-bundle.js","sourcesContent":["import { autoinject } from 'aurelia-framework';\r\nimport GameLoop from \"./helpers/GameLoop\";\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport { Heartbeat } from './messages';\r\n\r\n@autoinject\r\nexport class App {\r\n    timer: number = 0;\r\n    showModal: boolean = false;\r\n\r\n    constructor(private gameLoop: GameLoop, private eventAggregator: EventAggregator) \r\n    {\r\n        this.eventAggregator.subscribe(Heartbeat, () => {\r\n            this.timer ++;\r\n        })\r\n    }\r\n\r\n    activate(params, routeConfig) {\r\n        this.gameLoop.start();\r\n    }\r\n}","export default {\r\n  debug: true,\r\n  testing: true\r\n};\r\n","import {Aurelia} from 'aurelia-framework'\r\nimport environment from './environment';\r\n\r\nexport function configure(aurelia: Aurelia) {\r\n  aurelia.use\r\n    .standardConfiguration()\r\n    .feature('resources');\r\n\r\n  if (environment.debug) {\r\n    aurelia.use.developmentLogging();\r\n  }\r\n\r\n  if (environment.testing) {\r\n    aurelia.use.plugin('aurelia-testing');\r\n  }\r\n\r\n  aurelia.start().then(() => aurelia.setRoot());\r\n}\r\n","import Monster from \"./domain/monster\";\r\nimport MonsterTemplate from \"./domain/MonsterTemplate\";\r\nimport * as Item from \"./domain/AllItems\";\r\nimport * as Recipes from \"./domain/AllRecipies\";\r\n\r\nexport class Heartbeat {\r\n    constructor() { }\r\n}\r\n\r\nexport class MonsterAdded {\r\n    constructor(public monster: Monster) { }\r\n}\r\n\r\nexport class MonsterKilled {\r\n    constructor(public monster: Monster) { }\r\n}\r\n\r\nexport class GoldTaken {\r\n    constructor(public goldItem: Item.Gold) { }\r\n}\r\n\r\nexport class RecipeTaken {\r\n    constructor(public recipe: Recipes.MonsterRecipe) { }\r\n}\r\n\r\nexport class ItemTaken {\r\n    constructor(public item: Item.Loot) { }\r\n}\r\n\r\nexport class ShowModalWindow {\r\n    constructor(public id: string) { }\r\n}\r\n\r\nexport class TemplateSpawned {\r\n    constructor(public template: MonsterTemplate) { }\r\n}\r\n\r\nexport class LoggedMessage {\r\n    constructor(public log: string) { }\r\n}\r\n\r\nexport class ItemsDroppedFromMonster {\r\n    constructor(public items: Item.Loot[]) { }\r\n}","import { autoinject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport Monster from '../domain/monster';\r\nimport MonsterFactory from '../factories/MonsterFactory';\r\nimport Combat from '../helpers/Combat';\r\nimport { TemplateSpawned, Heartbeat, MonsterKilled } from '../messages';\r\n\r\n@autoinject\r\nexport class BattleStack {\r\n    stack: Array<Monster> = [];\r\n\r\n    constructor(private eventAggregator: EventAggregator, private monsterFactory: MonsterFactory, private combat: Combat) {\r\n        \r\n        this.eventAggregator.subscribe(TemplateSpawned, (msg: TemplateSpawned) => {\r\n            msg.template.recipes.forEach(recipe => {\r\n                this.stack.push(monsterFactory.buildMonster(recipe));\r\n            });\r\n        });\r\n\r\n        this.eventAggregator.subscribe(MonsterKilled, (msg: MonsterKilled) => {\r\n            this.stack.remove(msg.monster);\r\n        });\r\n\r\n        this.eventAggregator.subscribe(Heartbeat, () => {\r\n            if (this.stack.length) {\r\n                this.fightMonster();\r\n            }\r\n        });\r\n    }\r\n\r\n    fightMonster() {\r\n        this.combat.battle(this.stack);\r\n    }\r\n\r\n    created() { }\r\n}","import { inject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport { LoggedMessage } from '../messages';\r\n\r\n@inject(EventAggregator)\r\nexport class LogOutput {\r\n    logs: Array<string> = [];\r\n\r\n    constructor(private eventAggregator: EventAggregator) {\r\n\r\n        this.eventAggregator.subscribe(LoggedMessage, (msg: LoggedMessage) => {\r\n            this.logs.unshift(msg.log);\r\n            if (this.logs.length > 10) {\r\n                this.logs.pop();\r\n            }\r\n        });\r\n    }\r\n}","import { inject } from 'aurelia-framework';\r\nimport { ShowModalWindow } from '../messages';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport PlayerStore from '../domain/Stores/PlayerStore';\r\nimport TemplateStore from '../domain/Stores/TemplateStore';\r\n\r\n@inject(EventAggregator, PlayerStore, TemplateStore)\r\nexport class MainMenu {\r\n    constructor(private eventAggregator, public playerStore: PlayerStore, public templateStore: TemplateStore) { }\r\n\r\n    open(id: string) {\r\n        this.eventAggregator.publish(new ShowModalWindow(id));\r\n    }\r\n}","import { inject, bindable } from 'aurelia-framework';\r\nimport { ShowModalWindow } from '../messages';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\n\r\n@inject(EventAggregator)\r\nexport class ModalContent {\r\n    @bindable id: string;\r\n    @bindable visibility: boolean;\r\n\r\n    constructor(private eventAggregator: EventAggregator) {\r\n        eventAggregator.subscribe(ShowModalWindow, (msg: ShowModalWindow) => {\r\n            this.visibility = this.id === msg.id;\r\n        })\r\n    }\r\n\r\n    close(){\r\n        this.visibility = false;\r\n    }\r\n}","import { inject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport { ItemTaken } from '../messages';\r\nimport * as Item from \"../domain/AllItems\";\r\nimport PlayerStore from \"../domain/Stores/PlayerStore\";\r\n\r\n@inject(EventAggregator, PlayerStore)\r\nexport class PlayerInventory {\r\nplayerInventory: Array<Item.Loot>;\r\n\r\n    constructor(private eventAggregator: EventAggregator, private playerStore: PlayerStore) {\r\n        this.playerInventory = playerStore.inventory;\r\n\r\n        this.eventAggregator.subscribe(ItemTaken, (msg: ItemTaken) => { \r\n            this.playerInventory.push(msg.item);\r\n        });\r\n    }\r\n}","import { inject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport Player from '../domain/Player';\r\nimport PlayerStore from '../domain/Stores/PlayerStore';\r\nimport { GoldTaken, Heartbeat } from '../messages';\r\n\r\n@inject(EventAggregator, PlayerStore)\r\nexport class PlayerOverview {\r\n    currentPlayer: Player;\r\n    \r\n    constructor(private eventAggregator: EventAggregator, private playerStore: PlayerStore) {\r\n        this.currentPlayer = this.playerStore.currentPlayer;\r\n\r\n        this.eventAggregator.subscribe(GoldTaken, (msg: GoldTaken) => {\r\n            this.currentPlayer.gold += msg.goldItem.value;\r\n        });\r\n    }\r\n}","import { inject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\n\r\n@inject(EventAggregator)\r\nexport class PlayerTemplates {\r\n\r\n    constructor(private eventAggregator: EventAggregator) {\r\n\r\n    }\r\n}","import { bindable } from 'aurelia-framework';\r\n\r\nexport class ProgressBar {\r\n    @bindable percent: number;\r\n\r\n    get height(): number {\r\n        return 100 - this.percent;\r\n    }\r\n}","import { inject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport TemplateStore from '../domain/Stores/TemplateStore';\r\nimport MonsterTemplate from '../domain/MonsterTemplate';\r\nimport { TemplateSpawned, ShowModalWindow } from '../messages';\r\n\r\n@inject(EventAggregator, TemplateStore)\r\nexport class TemplateBag {\r\n    constructor(private eventAggregator: EventAggregator, private templateStore: TemplateStore) {\r\n\r\n    }\r\n\r\n    spawnTemplate(template: MonsterTemplate) {\r\n        this.eventAggregator.publish(new TemplateSpawned(template));\r\n    }\r\n\r\n    viewTemplate(template: MonsterTemplate) {\r\n        this.templateStore.selectedTemplate = template;\r\n        this.eventAggregator.publish(new ShowModalWindow(\"player-templates\"));\r\n    }\r\n}","import { autoinject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport * as Recipe from '../domain/AllRecipies';\r\nimport TemplateStore from '../domain/Stores/TemplateStore';\r\nimport MonsterFactory from '../factories/MonsterFactory';\r\nimport MonsterTemplate from '../domain/MonsterTemplate';\r\nimport { RecipeTaken } from '../messages';\r\n\r\n@autoinject\r\nexport class TemplateManager {\r\n    bag: Array<Recipe.MonsterRecipe>;\r\n\r\n    constructor(private eventAggregator: EventAggregator, private templateStore: TemplateStore, private monsterFactory: MonsterFactory) {\r\n        this.bag = [new Recipe.KoboldRecipe(), new Recipe.WetPaperBagRecipe()];\r\n        templateStore.templates.push(new MonsterTemplate(\"Template 1\"));\r\n\r\n        this.eventAggregator.subscribe(RecipeTaken, (msg: RecipeTaken) => {\r\n            this.bag.push(msg.recipe);\r\n        });\r\n    }\r\n    \r\n    addRecipe(recipe: Recipe.MonsterRecipe) \r\n    {\r\n        this.templateStore.selectedTemplate.addRecipe(recipe);\r\n    }\r\n\r\n    selectTemplate(template) {\r\n        this.templateStore.selectedTemplate = template;\r\n    }\r\n}","export * from './Items/Loot';\r\nexport * from './Items/Gold';\r\nexport * from './Items/Weapon';\r\nexport * from './Items/Recipe';","export * from './Recipies/MonsterRecipe';\r\nexport * from './Recipies/KoboldRecipe';\r\nexport * from './Recipies/WetPaperBagRecipe';\r\nexport * from './Recipies/DragonRecipe';","import Attribute from \"../helpers/Attribute\";\r\nimport Dice from \"../helpers/Dice\";\r\nimport Experience from \"../helpers/Experience\";\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\n\r\nabstract class Body {\r\n    damageTaken: number = 0;\r\n    experience: number = 0;\r\n\r\n    baseHealth: number = 10;\r\n\r\n    strength: number = 10;\r\n    toughness: number = 10;\r\n    dexterity: number = 10;\r\n\r\n    killed: boolean = false;\r\n\r\n    constructor(protected eventAggregator: EventAggregator, public name: string) {}\r\n\r\n    get level(): number {\r\n        return Experience.getLevel(this.experience);\r\n    }\r\n\r\n    get baseAttack(): number {\r\n        return 1 * this.level;\r\n    }\r\n\r\n    get totalHealth(): number {\r\n        let toughnessModifier = Attribute.getModifier(this.toughness) * this.level;\r\n        return this.baseHealth + toughnessModifier;\r\n    };\r\n\r\n    get currentHealth(): number {\r\n        return this.totalHealth - this.damageTaken;\r\n    };\r\n\r\n    get currentHealthPercent(): number {\r\n        return Math.floor((this.currentHealth * 100) / this.totalHealth);\r\n    }\r\n\r\n    get hasDied(): boolean {\r\n        return this.killed || this.currentHealth <= 0;\r\n    }\r\n\r\n    calculateDodgeRoll(): number {\r\n        return Attribute.getModifier(this.dexterity) + Dice.d20();\r\n    }\r\n\r\n    calculateAttackRoll(): number {\r\n        return this.baseAttack + Dice.d20();\r\n    }\r\n    \r\n    calculateDamageRoll(): number {\r\n        return Math.max(Attribute.getModifier(this.strength) + Dice.d6(), 0);\r\n    }\r\n\r\n    healDamage(heal:number) {\r\n        if(this.damageTaken > 0)\r\n            this.damageTaken -= heal;\r\n    }\r\n\r\n    abstract takeDamage(damage:number);\r\n}\r\n\r\nexport default Body;","import Body from \"./Body\";\r\nimport { MonsterKilled } from '../messages';\r\nimport * as Recipe from './AllRecipies';\r\nimport Experience from '../helpers/Experience';\r\n\r\nexport default class Monster extends Body {\r\n    recipe: Recipe.MonsterRecipe;\r\n\r\n    takeDamage(damage:number) {\r\n        this.damageTaken += damage;\r\n\r\n        if (this.hasDied) {\r\n            this.eventAggregator.publish(new MonsterKilled(this));\r\n        }\r\n    }\r\n\r\n    levelUp(levels: number)\r\n    {\r\n        var desiredLevel = this.level + levels;\r\n        var xpForDesiredLevel = Experience.getXpForLevel(desiredLevel);\r\n        var xpForCurrentLevel = Experience.getXpForLevel(this.level);\r\n\r\n        this.experience += xpForDesiredLevel - xpForCurrentLevel;\r\n\r\n        for(var i = 0; i < levels; i++)\r\n        {\r\n            this.baseHealth += this.recipe.healthPerLevel();\r\n            this.strength += this.recipe.strengthPerLevel();\r\n            this.toughness += this.recipe.toughnessPerLevel();\r\n            this.dexterity += this.recipe.dexterityPerLevel();\r\n        }\r\n    }\r\n}","import * as Recipe from '../domain/AllRecipies';\r\n\r\nexport default class MonsterTemplate\r\n{\r\n    recipes: Array<Recipe.MonsterRecipe>;\r\n    \r\n    constructor(public name: string){\r\n        this.recipes = [];\r\n    };\r\n\r\n    addRecipe(newRecipe: Recipe.MonsterRecipe){\r\n        this.recipes.push(newRecipe);\r\n    }\r\n\r\n    remove(existingRecipe: Recipe.MonsterRecipe){\r\n        this.recipes.remove(existingRecipe);\r\n    }\r\n}","import Body from \"./Body\";\r\n\r\nexport default class Player extends Body\r\n{\r\n    gold: number = 0;\r\n\r\n    takeDamage(damage:number) {\r\n        this.damageTaken += damage;\r\n    }\r\n}","import { autoinject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport * as Item from '../domain/AllItems';\r\nimport * as Recipes from '../domain/AllRecipies';\r\nimport PlayerStore from '../domain/Stores/PlayerStore';\r\nimport Monster from '../domain/monster';\r\nimport Dice from \"../helpers/Dice\";\r\n\r\n@autoinject\r\nexport default class ItemFactory {\r\n    constructor(private eventAggregator: EventAggregator, private playerStore: PlayerStore) { }\r\n\r\n    buildGold(): Item.Gold {\r\n        let newGold = new Item.Gold(this.eventAggregator);\r\n        newGold.value = Dice.d20();\r\n        return newGold;\r\n    }\r\n\r\n    buildWeapon(name: string): Item.Weapon {\r\n        let newWeapon = new Item.Weapon(this.eventAggregator);\r\n        newWeapon.name = name;\r\n        newWeapon.damage = Dice.d20();\r\n        return newWeapon;\r\n    }\r\n\r\n    buildRecipe(level:number = this.playerStore.currentPlayer.level + 1): Item.Recipe {\r\n        var AllRecipies = [new Recipes.DragonRecipe(), new Recipes.KoboldRecipe, new Recipes.WetPaperBagRecipe];\r\n        let recipeLoot = new Item.Recipe(this.eventAggregator);\r\n        let newRecipe = AllRecipies[Dice.rollSides(AllRecipies.length)-1];\r\n        \r\n        newRecipe.level = level;\r\n        recipeLoot.recipe = newRecipe;\r\n        \r\n        return recipeLoot;\r\n    }\r\n}\r\n","import { autoinject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport Monster from '../domain/monster';\r\nimport PlayerStore from '../domain/Stores/PlayerStore';\r\nimport * as Recipe from '../domain/AllRecipies';\r\n\r\n@autoinject\r\nexport default class MonsterFactory {\r\n    constructor(private eventAggregator: EventAggregator, private playerStore: PlayerStore) { }\r\n\r\n    buildMonster(recipe: Recipe.MonsterRecipe): Monster {\r\n        let monster = new Monster(this.eventAggregator, recipe.name);\r\n\r\n        monster.recipe = recipe;\r\n        monster.baseHealth = recipe.baseHealth;\r\n        monster.strength = recipe.baseStrength;\r\n        monster.toughness = recipe.baseToughness;\r\n        monster.dexterity = recipe.baseDexterity;\r\n\r\n        monster.levelUp(recipe.level-1);\r\n        \r\n        return monster;\r\n    }\r\n}\r\n","import { autoinject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport Player from '../domain/Player';\r\n\r\n@autoinject\r\nexport default class PlayerFactory {\r\n    constructor(private eventAggregator: EventAggregator) { }\r\n\r\n    buildPlayer(name: string): Player {\r\n        let player = new Player(this.eventAggregator, name);\r\n        player.strength = 22;\r\n        player.toughness = 14;\r\n        player.dexterity = 16;\r\n\r\n        return player;\r\n    }\r\n}\r\n","interface Array<T> {\r\n   remove(itemToRemove: T): Array<T>;\r\n}\r\n\r\n(<any>Array.prototype).remove = function (itemToRemove) {\r\n    const index = this.indexOf(itemToRemove);\r\n    if (index !== -1) {\r\n        this.splice(index, 1);\r\n    }\r\n    return this;\r\n}","export default class Attribute {\r\n    constructor() {  }\r\n    \r\n    static getModifier(value: number) : number {\r\n        return Math.floor((value - 10) / 2);\r\n    }\r\n}","import { autoinject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport Player from '../Domain/Player';\r\nimport PlayerStore from '../domain/Stores/PlayerStore';\r\nimport Monster from '../domain/monster';\r\nimport Body from '../Domain/Body';\r\nimport Dice from \"../helpers/Dice\";\r\nimport Attribute from \"../helpers/Attribute\";\r\nimport { Heartbeat, LoggedMessage } from '../messages';\r\n\r\n@autoinject\r\nexport default class Combat {\r\n    constructor(private eventAggregator: EventAggregator, private playerStore: PlayerStore) { }\r\n\r\n    battle(monsters: Array<Monster>)\r\n    {        \r\n        if(!monsters.length)\r\n            return;\r\n\r\n        let player = this.playerStore.currentPlayer;\r\n        let result = this.calculateBattleResult(player, monsters);\r\n\r\n        player.takeDamage(result.playerDamage);\r\n        monsters[0].takeDamage(result.monsterDamage);\r\n    }\r\n\r\n    private calculateBattleResult(player: Player, monsters: Array<Monster>)\r\n    {\r\n        let battleResult = new BattleResult();\r\n        \r\n        monsters.forEach(monster => {\r\n            battleResult.playerDamage += this.calculateDamage(player, monster);        \r\n        });\r\n        \r\n        battleResult.monsterDamage = this.calculateDamage(monsters[0], player);\r\n\r\n        return battleResult;\r\n    }\r\n\r\n    private calculateDamage(defender: Body, attacker: Body): number {\r\n        let defenderDodge = defender.calculateDodgeRoll();\r\n        let attackerHit = attacker.calculateAttackRoll();\r\n        \r\n        this.eventAggregator.publish(new LoggedMessage(`${defenderDodge} dodge vs ${attackerHit} attack`));\r\n        \r\n        if(defenderDodge >= attackerHit)\r\n            {\r\n                this.eventAggregator.publish(new LoggedMessage(`${attacker.name} Misses`));\r\n                return 0;\r\n            }\r\n\r\n        let attackerDamage = attacker.calculateDamageRoll();\r\n        this.eventAggregator.publish(new LoggedMessage(`${attacker.name} Hits for ${attackerDamage}`));       \r\n        return attackerDamage;\r\n    }\r\n}\r\n\r\nclass BattleResult\r\n{\r\n    playerDamage = 0;\r\n    monsterDamage = 0;\r\n}","export default class Dice {\r\n    constructor() {  }\r\n    \r\n    static d6() : number\r\n    {\r\n        return this.rollSides(6);\r\n    }\r\n    \r\n    static d20() : number\r\n    {\r\n        return this.rollSides(20);\r\n    }\r\n\r\n    static rollSides(sides: number) : number\r\n    {\r\n        return Math.floor(Math.random() * sides) + 1;\r\n    }\r\n\r\n    static binaryChance(percent: number) : number\r\n    {\r\n        return Dice.rollSides(100) <= percent ? 1 : 0;\r\n    }\r\n}","export default class Experience {\r\n    static power: number = 2.1;\r\n    static xpmod: number = 500;\r\n\r\n    constructor() {\r\n    }\r\n\r\n    static getLevel(experience: number): number {\r\n        var root = 1 / Experience.power;\r\n\r\n        return Math.floor(Math.pow(experience / Experience.xpmod, root)) + 1\r\n    }\r\n\r\n    static getXpForLevel(level: number): number {\r\n        return Math.ceil(Math.pow(level -1, Experience.power) * Experience.xpmod)\r\n    }\r\n}","import { inject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport { Heartbeat } from '../messages';\r\n\r\n@inject(EventAggregator)\r\nexport default class GameLoop {\r\n    constructor(private eventAggregator: EventAggregator) { }\r\n\r\n    start()\r\n    {        \r\n        setInterval(() => {\r\n            this.eventAggregator.publish(new Heartbeat());\r\n        }, 2000);\r\n    }\r\n}\r\n","import { autoinject } from 'aurelia-framework';\r\nimport Player from '../Domain/Player';\r\nimport Monster from '../domain/monster';\r\nimport PlayerStore from '../domain/Stores/PlayerStore';\r\nimport ItemFactory from '../factories/ItemFactory';\r\nimport Dice from \"../helpers/Dice\";\r\nimport * as Item from \"../domain/AllItems\";\r\n\r\n@autoinject\r\nexport default class LootDropper {\r\n    constructor(protected itemFactory: ItemFactory, protected playerStore: PlayerStore) { \r\n\r\n    }\r\n\r\n    generateLoot(monster: Monster) : Item.Loot[] {\r\n        let itemsToDrop: Item.Loot[] = [];\r\n        \r\n        if(Dice.binaryChance(40))\r\n            itemsToDrop.push(this.itemFactory.buildGold()); \r\n        \r\n        if(Dice.binaryChance(10))\r\n            itemsToDrop.push(this.itemFactory.buildWeapon(\"Thunderfury, Blessed Blade of the Windseeker\"));\r\n\r\n        if(Dice.binaryChance(10))\r\n            itemsToDrop.push(this.itemFactory.buildRecipe());\r\n            \r\n        return itemsToDrop;\r\n    }\r\n}","import {FrameworkConfiguration} from 'aurelia-framework';\r\n\r\nexport function configure(config: FrameworkConfiguration) {\r\n  //config.globalResources([]);\r\n}\r\n","import {autoinject} from 'aurelia-framework';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport * as Item from \"../../domain/AllItems\";\r\nimport * as Recipes from \"../../domain/AllRecipies\";\r\nimport * as MonsterRecipe from \"../../domain/Recipies/MonsterRecipe\";\r\nimport ItemFactory from \"../../factories/ItemFactory\";\r\nimport Dice from \"../../helpers/Dice\";\r\nimport LootDropper from \"../../helpers/LootDropper\";\r\nimport { MonsterKilled, GoldTaken } from '../../messages';\r\n\r\n@autoinject\r\nexport class LootStack {\r\n    stack: Array<Item.Loot> = [];\r\n    \r\n    constructor(private eventAggregator: EventAggregator, private lootDropper: LootDropper) {\r\n        \r\n        this.eventAggregator.subscribe(MonsterKilled, (msg: MonsterKilled) => {\r\n            var loots = lootDropper.generateLoot(msg.monster);\r\n\r\n            loots.forEach(loot => {\r\n                this.stack.push(loot);\r\n            });\r\n        });\r\n    }\r\n    \r\n    takeItem(lootItem: Item.Loot){\r\n        lootItem.take();\r\n        this.stack.remove(lootItem);\r\n    }\r\n}","enum Rarity {\r\n    Common,\r\n    Uncommon,\r\n    Rare,\r\n    Epic,\r\n    Legendary    \r\n}\r\n\r\nexport default Rarity","import { Loot } from \"./Loot\";\r\nimport { GoldTaken } from '../../messages';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\n\r\nexport class Gold extends Loot {\r\n    template:string = \"gold\";\r\n\r\n    value: number;\r\n\r\n    get displayName() {\r\n        return `Gold Bag (${this.value})`;\r\n    }\r\n\r\n    showToolTip() { };\r\n    take() { this.eventAggregator.publish(new GoldTaken(this)) };\r\n    use() {};\r\n}","import { EventAggregator } from 'aurelia-event-aggregator';\r\n\r\nexport abstract class Loot {\r\n    constructor(protected eventAggregator: EventAggregator) {}\r\n\r\n    template: string;\r\n    abstract get displayName();\r\n    abstract showToolTip();\r\n    abstract take();\r\n    abstract use();\r\n}","import { Loot } from \"./Loot\";\r\nimport { RecipeTaken } from '../../messages';\r\nimport * as Recipes from '../../domain/AllRecipies';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\n\r\nexport class Recipe extends Loot {\r\n    template: string = \"recipe\";\r\n    recipe: Recipes.MonsterRecipe;\r\n\r\n    get displayName() {\r\n        return `${this.recipe.name} recipe (Level: ${this.recipe.level})`;\r\n    }\r\n\r\n    showToolTip() { };\r\n    take() { this.eventAggregator.publish(new RecipeTaken(this.recipe)) };\r\n    use() {};\r\n}","import { Loot } from \"./Loot\";\r\nimport { ItemTaken } from '../../messages';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\n\r\nexport class Weapon extends Loot {\r\n    template:string = \"weapon\";\r\n\r\n    name: string;\r\n    damage: number;\r\n\r\n    get displayName() {\r\n        return this.name;\r\n    }\r\n\r\n    showToolTip() { };\r\n    take() { this.eventAggregator.publish(new ItemTaken(this)) };\r\n    use() {};\r\n}","import { MonsterRecipe } from \"./MonsterRecipe\";\r\nimport Rarity from \"../Enums/Rarity\";\r\nimport Dice from \"../../helpers/Dice\";\r\n\r\nexport class DragonRecipe implements MonsterRecipe {\r\n    name: string = \"Dragon\";\r\n\r\n    baseHealth: number = 20;\r\n    baseStrength: number = 16;\r\n    baseToughness: number = 20;\r\n    baseDexterity: number = 16;\r\n    \r\n    healthPerLevel = () => Dice.rollSides(10);\r\n\r\n    strengthPerLevel = () => Dice.binaryChance(9 + (this.rarity * 12));\r\n\r\n    toughnessPerLevel = () => Dice.binaryChance(10 + (this.rarity * 12));\r\n\r\n    dexterityPerLevel = () => Dice.binaryChance(13 + (this.rarity * 12));\r\n\r\n    rarity: Rarity = Rarity.Rare;\r\n    level: number = 1;\r\n}","import { MonsterRecipe } from \"./MonsterRecipe\";\r\nimport Rarity from \"../Enums/Rarity\";\r\nimport Dice from \"../../helpers/Dice\";\r\n\r\nexport class KoboldRecipe implements MonsterRecipe {\r\n    name: string = \"Kobold\";\r\n\r\n    baseHealth: number = 4;\r\n    baseStrength: number = 9;\r\n    baseToughness: number = 10;\r\n    baseDexterity: number = 13;\r\n    \r\n    healthPerLevel = () => Dice.rollSides(4);\r\n\r\n    strengthPerLevel = () => Dice.binaryChance(9 + (this.rarity * 10));\r\n\r\n    toughnessPerLevel = () => Dice.binaryChance(10 + (this.rarity * 10));\r\n\r\n    dexterityPerLevel = () => Dice.binaryChance(13 + (this.rarity * 10));\r\n\r\n    rarity: Rarity = Rarity.Common;\r\n    level: number = 1;\r\n}",null,"import { MonsterRecipe } from \"./MonsterRecipe\";\r\nimport Rarity from \"../Enums/Rarity\";\r\nimport Dice from \"../../helpers/Dice\";\r\n\r\nexport class WetPaperBagRecipe implements MonsterRecipe {\r\n    name: string = \"Wet Paper Bag\";\r\n\r\n    baseHealth: number = 2;\r\n    baseStrength: number = 8;\r\n    baseToughness: number = 8;\r\n    baseDexterity: number = 8;\r\n    \r\n    healthPerLevel = () => Dice.rollSides(4);\r\n\r\n    strengthPerLevel = () => Dice.binaryChance(10 + (this.rarity * 10));\r\n\r\n    toughnessPerLevel = () => Dice.binaryChance(10 + (this.rarity * 10));\r\n\r\n    dexterityPerLevel = () => Dice.binaryChance(10 + (this.rarity * 10));\r\n\r\n    rarity: Rarity = Rarity.Common;\r\n    level: number = 1;\r\n}","import { autoinject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport Player from \"../Player\";\r\nimport * as Item from \"../AllItems\";\r\nimport PlayerFactory from \"../../factories/PlayerFactory\"\r\nimport { Heartbeat, MonsterKilled } from '../../messages';\r\nimport Dice from \"../../helpers/Dice\";\r\n\r\n\r\n@autoinject\r\nexport default class PlayerStore {\r\n    currentPlayer: Player;\r\n    inventory: Array<Item.Loot> = [];\r\n\r\n    constructor(private eventAggregator: EventAggregator, playerFactory: PlayerFactory) {\r\n        this.currentPlayer = playerFactory.buildPlayer(\"Test Factory Player\");\r\n\r\n        this.eventAggregator.subscribe(Heartbeat, (msg: Heartbeat) => {\r\n            this.currentPlayer.healDamage(1);\r\n        });\r\n\r\n        this.eventAggregator.subscribe(MonsterKilled, (msg: MonsterKilled) => {\r\n            this.currentPlayer.experience += Dice.rollSides(500);\r\n        });\r\n    }\r\n}","import { autoinject } from 'aurelia-framework';\r\nimport MonsterTemplate from '../MonsterTemplate';\r\nimport * as Recipe from '../AllRecipies';\r\nimport MonsterFactory from '../../factories/MonsterFactory';\r\n\r\n@autoinject\r\nexport default class TemplateStore\r\n{\r\n    templates: Array<MonsterTemplate>;\r\n    selectedTemplate: MonsterTemplate;\r\n    \r\n    constructor(private monsterFactory: MonsterFactory) {\r\n        let defaultTemplate = new MonsterTemplate(\"Test Template\");\r\n        defaultTemplate.addRecipe(new Recipe.KoboldRecipe());\r\n        defaultTemplate.addRecipe(new Recipe.KoboldRecipe());\r\n\r\n        this.templates = [defaultTemplate];\r\n    }\r\n}",".component {\r\n    display: block;\r\n    overflow: hidden;\r\n}\r\n\r\nbody {\r\n  margin: 0;\r\n}\r\n\r\nbattle-stack, loot-stack, monster-bag\r\n{\r\n    .component;\r\n}\r\n\r\n#player-overview{\r\n    background-color: lightblue;\r\n}\r\n\r\n#timer{\r\n    position: fixed;\r\n    top: 10px;\r\n    right: 10px;\r\n    padding: 10px;\r\n    font-size: 12px;\r\n    font-weight: 700;\r\n    background: white;\r\n    border-radius: 4px;\r\n    z-index: 10000;\r\n}\r\n\r\n.page-host{\r\n    padding-top: 60px;\r\n}\r\n\r\n.bagItem{\r\n    padding: 6px;\r\n    margin-top: 1px;\r\n    background-color: antiquewhite;\r\n}\r\n\r\n.bagItem:hover{\r\n    background-color: beige;\r\n    cursor: pointer;    \r\n}\r\n\r\n.templateItem {\r\n    padding: 6px;\r\n    margin-top: 1px;\r\n    color: ghostwhite;\r\n    background-color: saddlebrown;\r\n}\r\n\r\n.templateMonster{\r\n    padding: 6px;\r\n    margin-top: 1px;\r\n    background-color: coral;\r\n}\r\n\r\n.progressBarContainer {\r\n        width: 10px;\r\n        float: right;\r\n        height: 100%;\r\n        background: #c9d250;\r\n\r\n        .progressBar {\r\n            width: 10px;\r\n            height: 100%;\r\n            transition: height 1s;\r\n            background: red;\r\n        }\r\n    }\r\n\r\n.battleStackItem{\r\n    height: 200px;\r\n    width: 160px;\r\n    padding: 6px;\r\n    margin-top: 1px;\r\n    margin-left: 1px;\r\n    background-color: coral;\r\n    color:whitesmoke;\r\n    font-weight: 600;\r\n    float: left;\r\n\r\n    &.empty{\r\n        background-color: #b1b1b1;\r\n        color: white;\r\n    }\r\n}\r\n\r\n.battleStackEmptyItem{\r\n    .battleStackItem;\r\n    background-color: darkslategray;\r\n}\r\n\r\n.monsterTemplateItem{\r\n    height: 100px;\r\n    width: 80px;\r\n    padding: 6px;\r\n    margin-top: 1px;\r\n    margin-left: 1px;\r\n    background-color: coral;\r\n    color:whitesmoke;\r\n    font-weight: 600;\r\n    float: left;\r\n    font-size: 14px;\r\n\r\n    &.empty{\r\n        background-color: #b1b1b1;\r\n        color: white;\r\n    }\r\n}\r\n\r\n.battleStackEmptyItem{\r\n    .battleStackItem;\r\n    background-color: darkslategray;\r\n}\r\n\r\n.inventoryItem {\r\n    background-color: darkslategray;\r\n    padding: 4px;\r\n    margin-top: 1px;\r\n    color: white;\r\n}\r\n\r\n.lootItem{\r\n    .component;\r\n    padding: 6px;\r\n    margin-top: 1px;\r\n    margin-left: 1px;\r\n    background-color: gray;\r\n    color:whitesmoke;\r\n    font-weight: 600;\r\n    font-size: 14px;\r\n}\r\n\r\n.lootItem:hover{\r\n    background-color: cadetblue;\r\n    cursor: pointer;    \r\n}\r\n\r\n.noselect {\r\n    -webkit-touch-callout: none;\r\n    -webkit-user-select: none;\r\n    -khtml-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n}\r\n\r\n.clearfix{\r\n    clear:both;\r\n    overflow: none;\r\n}\r\n\r\n.modal-window\r\n{\r\n    font-family: 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;\r\n    background-color: white;\r\n    position: fixed;\r\n    z-index: 99999;\r\n    border-radius: 5px;\r\n    padding: 22px;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    -webkit-transform: translate(-50%, -50%);\r\n    max-height: 70%;\r\n    overflow-x: auto;\r\n\r\n    .close-button {\r\n        float: right;\r\n    }\r\n}\r\n\r\n.modal-window-overlay\r\n{\r\n    background-color: black;\r\n    -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=40)\";\r\n    background-color: rgba(0, 0, 0, 0.4);\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    z-index: 10000;\r\n}\r\n\r\n.template-controls\r\n{\r\n    float: right;\r\n}\r\n\r\n.logMessage\r\n{\r\n    font-size: 14px;\r\n    margin-bottom: 1px;\r\n    background-color: lightgray;\r\n    padding: 3px 20px;\r\n}"],"sourceRoot":".."}