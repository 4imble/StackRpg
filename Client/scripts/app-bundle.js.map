{"version":3,"sources":["helpers/Attribute.ts","domain/Body.ts","domain/Monster.ts","domain/MonsterTemplate.ts","domain/Items/Loot.ts","domain/Items/Gold.ts","domain/Items/Weapon.ts","domain/AllItems.ts","messages.ts","helpers/GameLoop.ts","app.ts","Array.ts","environment.ts","main.ts","domain/Player.ts","factories/BodyFactory.ts","domain/Stores/PlayerStore.ts","helpers/Combat.ts","components/battle-stack.ts","domain/Stores/TemplateStore.ts","components/main-menu.ts","components/modal-content.ts","components/monster-manager.ts","components/player-inventory.ts","components/player-overview.ts","components/player-templates.ts","components/progress-bar.ts","components/template-bag.ts","helpers/Dice.ts","factories/ItemFactory.ts","resources/index.ts","components/loot/loot-stack.ts","C:/Git/StackRpg/Client/src/app.html","C:/Git/StackRpg/Client/src/components/battle-stack.html","styles/styles.less","C:/Git/StackRpg/Client/src/components/main-menu.html","C:/Git/StackRpg/Client/src/components/modal-content.html","C:/Git/StackRpg/Client/src/components/monster-manager.html","C:/Git/StackRpg/Client/src/components/player-inventory.html","C:/Git/StackRpg/Client/src/components/player-overview.html","C:/Git/StackRpg/Client/src/components/player-templates.html","C:/Git/StackRpg/Client/src/components/progress-bar.html","C:/Git/StackRpg/Client/src/components/template-bag.html","C:/Git/StackRpg/Client/src/components/loot/gold-loot.html","C:/Git/StackRpg/Client/src/components/loot/loot-stack.html","C:/Git/StackRpg/Client/src/components/loot/weapon-loot.html"],"names":[],"mappings":"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","file":"app-bundle.js","sourcesContent":["export default class Attribute {\r\n    constructor() {  }\r\n    \r\n    static getModifier(value: number) : number {\r\n        return Math.floor((value - 10) / 2);\r\n    }\r\n}","import Attribute from \"../helpers/Attribute\";\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\n\r\nabstract class Body {\r\n    baseHealth: number = 10;\r\n    damageTaken: number = 0;\r\n    level: number = 1;\r\n\r\n    strength: number = 10;\r\n    toughness: number = 10;\r\n    dexterity: number = 10;\r\n\r\n    killed: boolean = false;\r\n\r\n    constructor(protected eventAggregator: EventAggregator, public name: string) {}\r\n\r\n    get totalHealth() {\r\n        let toughnessModifier = Attribute.getModifier(this.toughness);\r\n        return this.baseHealth + toughnessModifier;\r\n    };\r\n\r\n    get currentHealth() {\r\n        return this.totalHealth - this.damageTaken;\r\n    };\r\n\r\n    get currentHealthPercent() {\r\n        return Math.floor((this.currentHealth * 100) / this.totalHealth);\r\n    }\r\n\r\n    get hasDied() {\r\n        return this.killed || this.currentHealth <= 0;\r\n    }\r\n\r\n    abstract takeDamage(damage:number);\r\n}\r\n\r\nexport default Body;","import Body from \"./Body\";\r\nimport { MonsterKilled } from '../messages';\r\n\r\nexport default class Monster extends Body {\r\n    takeDamage(damage:number) {\r\n        this.damageTaken += damage;\r\n\r\n        if (this.hasDied) {\r\n            this.eventAggregator.publish(new MonsterKilled(this));\r\n        }\r\n    }\r\n}","import Monster from \"./Monster\";\r\n\r\nexport default class MonsterTemplate\r\n{\r\n    monsters: Array<Monster>;\r\n    \r\n    constructor(public name: string){\r\n        this.monsters = [];\r\n    };\r\n\r\n    addMonster(newMonster: Monster){\r\n        this.monsters.push(newMonster);\r\n    }\r\n\r\n    remove(existingMonster: Monster){\r\n        this.monsters.remove(existingMonster);\r\n    }\r\n}","import { EventAggregator } from 'aurelia-event-aggregator';\r\n\r\nexport abstract class Loot {\r\n    constructor(protected eventAggregator: EventAggregator) {}\r\n\r\n    template: string;\r\n    abstract get displayName();\r\n    abstract showToolTip();\r\n    abstract take();\r\n    abstract use();\r\n}","import {Loot} from \"./Loot\";\r\nimport { GoldTaken } from '../../messages';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\n\r\nexport class Gold extends Loot {\r\n    value: number;\r\n\r\n    get displayName() {\r\n        return `Gold Bag (${this.value})`;\r\n    }\r\n\r\n    showToolTip() { };\r\n    take() { this.eventAggregator.publish(new GoldTaken(this)) };\r\n    use() {};\r\n}","import { Loot } from \"./Loot\";\r\nimport { ItemTaken } from '../../messages';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\n\r\nexport class Weapon extends Loot {\r\n    name: string;\r\n    damage: number;\r\n\r\n    get displayName() {\r\n        return this.name;\r\n    }\r\n\r\n    showToolTip() { };\r\n    take() { this.eventAggregator.publish(new ItemTaken(this)) };\r\n    use() {};\r\n}","export * from './Items/Loot';\r\nexport * from './Items/Gold';\r\nexport * from './Items/Weapon';","import Monster from \"./domain/monster\";\r\nimport MonsterTemplate from \"./domain/MonsterTemplate\";\r\nimport * as Item from \"./domain/AllItems\";\r\n\r\nexport class Heartbeat {\r\n    constructor() { }\r\n}\r\n\r\nexport class MonsterAdded {\r\n    constructor(public monster: Monster) { }\r\n}\r\n\r\nexport class MonsterKilled {\r\n    constructor(public monster: Monster) { }\r\n}\r\n\r\nexport class GoldTaken {\r\n    constructor(public goldItem: Item.Gold) { }\r\n}\r\n\r\nexport class ItemTaken {\r\n    constructor(public item: Item.Loot) { }\r\n}\r\n\r\nexport class ShowModalWindow {\r\n    constructor(public id: string) { }\r\n}\r\n\r\nexport class TemplateSpawned {\r\n    constructor(public template: MonsterTemplate) { }\r\n}","import { inject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport { Heartbeat } from '../messages';\r\n\r\n@inject(EventAggregator)\r\nexport default class GameLoop {\r\n    constructor(private eventAggregator: EventAggregator) { }\r\n\r\n    start()\r\n    {        \r\n        setInterval(() => {\r\n            this.eventAggregator.publish(new Heartbeat());\r\n        }, 5000);\r\n    }\r\n}\r\n","import { autoinject } from 'aurelia-framework';\r\nimport GameLoop from \"./helpers/GameLoop\";\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport { Heartbeat } from './messages';\r\n\r\n@autoinject\r\nexport class App {\r\n    timer: number = 0;\r\n    showModal: boolean = false;\r\n\r\n    constructor(private gameLoop: GameLoop, private eventAggregator: EventAggregator) \r\n    {\r\n        this.eventAggregator.subscribe(Heartbeat, () => {\r\n            this.timer ++;\r\n        })\r\n    }\r\n\r\n    activate(params, routeConfig) {\r\n        this.gameLoop.start();\r\n    }\r\n}","interface Array<T> {\r\n   remove(itemToRemove: T): Array<T>;\r\n}\r\n\r\n(<any>Array.prototype).remove = function (itemToRemove) {\r\n    const index = this.indexOf(itemToRemove);\r\n    if (index !== -1) {\r\n        this.splice(index, 1);\r\n    }\r\n    return this;\r\n}","export default {\r\n  debug: true,\r\n  testing: true\r\n};\r\n","import {Aurelia} from 'aurelia-framework'\r\nimport environment from './environment';\r\n\r\n//Configure Bluebird Promises.\r\n(<any>Promise).config({\r\n  longStackTraces: environment.debug,\r\n  warnings: {\r\n    wForgottenReturn: false\r\n  }\r\n});\r\n\r\nexport function configure(aurelia: Aurelia) {\r\n  aurelia.use\r\n    .standardConfiguration()\r\n    .feature('resources');\r\n\r\n  if (environment.debug) {\r\n    aurelia.use.developmentLogging();\r\n  }\r\n\r\n  if (environment.testing) {\r\n    aurelia.use.plugin('aurelia-testing');\r\n  }\r\n\r\n  aurelia.start().then(() => aurelia.setRoot());\r\n}\r\n","import Body from \"./Body\";\r\n\r\nexport default class Player extends Body\r\n{\r\n    gold: number = 0;\r\n\r\n    takeDamage(damage:number) {\r\n        this.damageTaken += damage;\r\n    }\r\n}","import { autoinject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport Player from '../domain/Player';\r\nimport Monster from '../domain/Monster';\r\n\r\n@autoinject\r\nexport default class BodyFactory {\r\n    constructor(private eventAggregator: EventAggregator) { }\r\n\r\n    buildPlayer(name: string): Player {\r\n        return new Player(this.eventAggregator, name);\r\n    }\r\n\r\n    buildMonster(name: string): Monster {\r\n        return new Monster(this.eventAggregator, name);\r\n    }\r\n}\r\n","import { autoinject } from 'aurelia-framework';\r\nimport Player from \"../Player\";\r\nimport * as Item from \"../AllItems\";\r\nimport BodyFactory from \"../../factories/BodyFactory\"\r\n\r\n@autoinject\r\nexport default class PlayerStore\r\n{\r\n    currentPlayer: Player;\r\n    inventory: Array<Item.Loot> = [];\r\n    \r\n    constructor(bodyFactory: BodyFactory) {\r\n        this.currentPlayer = bodyFactory.buildPlayer(\"Test Factory Player\");\r\n    }\r\n}","import { autoinject } from 'aurelia-framework';\nimport { EventAggregator } from 'aurelia-event-aggregator';\nimport Player from '../Domain/Player';\nimport PlayerStore from '../domain/Stores/PlayerStore';\nimport Monster from '../Domain/Monster';\nimport { Heartbeat } from '../messages';\n\n@autoinject\nexport default class Combat {\n    constructor(private eventAggregator: EventAggregator, private playerStore: PlayerStore) { }\n\n    battle(monsters: Array<Monster>)\n    {        \n        if(!monsters.length)\n            return;\n\n        let player = this.playerStore.currentPlayer;\n        let result = this.calculateBattleResult(player, monsters);\n\n        player.takeDamage(result.playerDamage);\n        monsters[0].takeDamage(result.monsterDamage);\n    }\n\n    private calculateBattleResult(player: Player, monsters: Array<Monster>)\n    {\n        let battleResult = new BattleResult();\n        battleResult.playerDamage = 3;\n        battleResult.monsterDamage = 6;\n\n        return battleResult;\n    }\n}\n\nclass BattleResult\n{\n    playerDamage;\n    monsterDamage;\n}","import { autoinject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport Monster from '../domain/Monster';\r\nimport BodyFactory from '../factories/BodyFactory';\r\nimport Combat from '../helpers/Combat';\r\nimport { TemplateSpawned, Heartbeat, MonsterKilled } from '../messages';\r\n\r\n@autoinject\r\nexport class BattleStack {\r\n    stack: Array<Monster> = [];\r\n\r\n    constructor(private eventAggregator: EventAggregator, private bodyFactory: BodyFactory, private combat: Combat) {\r\n        this.stack.push(bodyFactory.buildMonster(\"Grumble\"), bodyFactory.buildMonster(\"Viqas' Expensive Bread\"));\r\n\r\n        this.eventAggregator.subscribe(TemplateSpawned, (msg: TemplateSpawned) => {\r\n            msg.template.monsters.forEach(monster => {\r\n                this.stack.push(monster);\r\n            });\r\n        });\r\n\r\n        this.eventAggregator.subscribe(MonsterKilled, (msg: MonsterKilled) => {\r\n            this.stack.remove(msg.monster);\r\n        });\r\n\r\n        this.eventAggregator.subscribe(Heartbeat, () => {\r\n            if (this.stack.length) {\r\n                this.fightMonster();\r\n            }\r\n        });\r\n    }\r\n\r\n    fightMonster() {\r\n        this.combat.battle(this.stack);\r\n    }\r\n\r\n    created() { }\r\n}","import { autoinject } from 'aurelia-framework';\r\nimport MonsterTemplate from '../MonsterTemplate';\r\nimport Monster from \"../Monster\";\r\nimport BodyFactory from '../../factories/BodyFactory';\r\n\r\n@autoinject\r\nexport default class TemplateStore\r\n{\r\n    templates: Array<MonsterTemplate>;\r\n    selectedTemplate: MonsterTemplate;\r\n    \r\n    constructor(private bodyFactory: BodyFactory) {\r\n        let defaultTemplate = new MonsterTemplate(\"Test Template\");\r\n        defaultTemplate.addMonster(bodyFactory.buildMonster(\"Default Monster1\"));\r\n        defaultTemplate.addMonster(bodyFactory.buildMonster(\"Default Monster2\"));\r\n\r\n        this.templates = [defaultTemplate];\r\n    }\r\n}","import { inject } from 'aurelia-framework';\r\nimport { ShowModalWindow } from '../messages';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport PlayerStore from '../domain/Stores/PlayerStore';\r\nimport TemplateStore from '../domain/Stores/TemplateStore';\r\n\r\n@inject(EventAggregator, PlayerStore, TemplateStore)\r\nexport class MainMenu {\r\n    constructor(private eventAggregator, public playerStore: PlayerStore, public templateStore: TemplateStore) { }\r\n\r\n    open(id: string) {\r\n        this.eventAggregator.publish(new ShowModalWindow(id));\r\n    }\r\n}","import { inject, bindable } from 'aurelia-framework';\r\nimport { ShowModalWindow } from '../messages';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\n\r\n@inject(EventAggregator)\r\nexport class ModalContent {\r\n    @bindable id: string;\r\n    @bindable visibility: boolean;\r\n\r\n    constructor(private eventAggregator: EventAggregator) {\r\n        eventAggregator.subscribe(ShowModalWindow, (msg: ShowModalWindow) => {\r\n            this.visibility = this.id === msg.id;\r\n        })\r\n    }\r\n\r\n    close(){\r\n        this.visibility = false;\r\n    }\r\n}","import { autoinject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport Monster from '../domain/Monster';\r\nimport TemplateStore from '../domain/Stores/TemplateStore';\r\nimport BodyFactory from '../factories/BodyFactory';\r\nimport MonsterTemplate from '../domain/MonsterTemplate';\r\nimport { MonsterAdded, Heartbeat, MonsterKilled } from '../messages';\r\n\r\n@autoinject\r\nexport class MonsterManager {\r\n    bag: Array<Monster>;\r\n\r\n    constructor(private eventAggregator: EventAggregator, private templateStore: TemplateStore, private bodyFactory: BodyFactory) {\r\n        this.bag = [bodyFactory.buildMonster(\"Grumble\"), bodyFactory.buildMonster(\"Viqas's Bread\")];\r\n        templateStore.templates.push(new MonsterTemplate(\"Template 1\"));\r\n    }\r\n    \r\n    useMonster(monster) \r\n    {\r\n        this.templateStore.selectedTemplate.addMonster(monster);\r\n    }\r\n\r\n    selectTemplate(template) {\r\n        this.templateStore.selectedTemplate = template;\r\n    }\r\n}","import { inject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport { ItemTaken } from '../messages';\r\nimport * as Item from \"../domain/AllItems\";\r\nimport PlayerStore from \"../domain/Stores/PlayerStore\";\r\n\r\n@inject(EventAggregator, PlayerStore)\r\nexport class PlayerInventory {\r\nplayerInventory: Array<Item.Loot>;\r\n\r\n    constructor(private eventAggregator: EventAggregator, private playerStore: PlayerStore) {\r\n        this.playerInventory = playerStore.inventory;\r\n\r\n        this.eventAggregator.subscribe(ItemTaken, (msg: ItemTaken) => { \r\n            this.playerInventory.push(msg.item);\r\n        });\r\n    }\r\n}","import { inject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport Player from '../domain/Player';\r\nimport PlayerStore from '../domain/Stores/PlayerStore';\r\nimport { GoldTaken } from '../messages';\r\n\r\n@inject(EventAggregator, PlayerStore)\r\nexport class PlayerOverview {\r\n    currentPlayer: Player;\r\n    \r\n    constructor(private eventAggregator: EventAggregator, private playerStore: PlayerStore) {\r\n        this.currentPlayer = this.playerStore.currentPlayer;\r\n\r\n        this.eventAggregator.subscribe(GoldTaken, (msg: GoldTaken) => {\r\n            this.currentPlayer.gold += msg.goldItem.value;\r\n        });\r\n    }\r\n}","import { inject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\n\r\n@inject(EventAggregator)\r\nexport class PlayerTemplates {\r\n\r\n    constructor(private eventAggregator: EventAggregator) {\r\n\r\n    }\r\n}","import { bindable } from 'aurelia-framework';\r\n\r\nexport class ProgressBar {\r\n    @bindable percent: number;\r\n\r\n    get height(): number {\r\n        return 100 - this.percent;\r\n    }\r\n}","import { inject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport TemplateStore from '../domain/Stores/TemplateStore';\r\nimport MonsterTemplate from '../domain/MonsterTemplate';\r\nimport { TemplateSpawned, ShowModalWindow } from '../messages';\r\n\r\n@inject(EventAggregator, TemplateStore)\r\nexport class TemplateBag {\r\n    constructor(private eventAggregator: EventAggregator, private templateStore: TemplateStore){\r\n\r\n    }\r\n\r\n    spawnTemplate(template: MonsterTemplate){\r\n        this.eventAggregator.publish(new TemplateSpawned(template));\r\n    }\r\n\r\n    viewTemplate(template: MonsterTemplate)\r\n    {\r\n        this.templateStore.selectedTemplate = template;\r\n        this.eventAggregator.publish(new ShowModalWindow(\"player-templates\"));\r\n    }\r\n}","export default class Dice {\r\n    constructor() {  }\r\n    \r\n    static d6()\r\n    {\r\n        return this.rollSides(6);\r\n    }\r\n    \r\n    static d20()\r\n    {\r\n        return this.rollSides(20);\r\n    }\r\n\r\n    static rollSides(sides){\r\n        return Math.floor(Math.random() * sides) + 1;\r\n    }\r\n}","import { autoinject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport * as Item from '../domain/AllItems';\r\nimport Monster from '../domain/Monster';\r\nimport Dice from \"../helpers/Dice\";\r\n\r\n@autoinject\r\nexport default class ItemFactory {\r\n    constructor(private eventAggregator: EventAggregator) { }\r\n\r\n    buildGold(): Item.Gold {\r\n        let newGold = new Item.Gold(this.eventAggregator);\r\n        newGold.value = Dice.d20();\r\n        newGold.template = \"gold\";\r\n        return newGold;\r\n    }\r\n\r\n    buildWeapon(name: string): Item.Weapon {\r\n        let newWeapon = new Item.Weapon(this.eventAggregator);\r\n        newWeapon.name = name;\r\n        newWeapon.damage = Dice.d20();\r\n        newWeapon.template = \"weapon\";\r\n        return newWeapon;\r\n    }\r\n}\r\n","import {FrameworkConfiguration} from 'aurelia-framework';\r\n\r\nexport function configure(config: FrameworkConfiguration) {\r\n  //config.globalResources([]);\r\n}\r\n","import {autoinject, customElement} from 'aurelia-framework';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport * as Item from \"../../domain/AllItems\";\r\nimport ItemFactory from \"../../factories/ItemFactory\";\r\nimport { MonsterKilled, GoldTaken } from '../../messages';\r\n\r\n@autoinject\r\nexport class LootStack {\r\n    stack: Array<Item.Loot> = [];\r\n    \r\n    constructor(private eventAggregator: EventAggregator, private itemFactory: ItemFactory) {\r\n        this.eventAggregator.subscribe(MonsterKilled, () => {\r\n            this.stack.push(itemFactory.buildGold()); \r\n            this.stack.push(itemFactory.buildWeapon(\"Thunderfury, Blessed Blade of the Windseeker\"));\r\n        });\r\n    }\r\n    \r\n    takeItem(lootItem: Item.Loot){\r\n        lootItem.take();\r\n        this.stack.remove(lootItem);\r\n    }\r\n}",null,null,".component {\r\n    display: block;\r\n    overflow: hidden;\r\n}\r\n\r\nbody {\r\n  margin: 0;\r\n}\r\n\r\nbattle-stack, loot-stack, monster-bag\r\n{\r\n    .component;\r\n}\r\n\r\n#player-overview{\r\n    background-color: lightblue;\r\n}\r\n\r\n#timer{\r\n    position: fixed;\r\n    top: 10px;\r\n    right: 10px;\r\n    padding: 10px;\r\n    font-size: 12px;\r\n    font-weight: 700;\r\n    background: white;\r\n    border-radius: 4px;\r\n    z-index: 10000;\r\n}\r\n\r\n.page-host{\r\n    padding-top: 60px;\r\n}\r\n\r\n.bagItem{\r\n    padding: 6px;\r\n    margin-top: 1px;\r\n    background-color: antiquewhite;\r\n}\r\n\r\n.bagItem:hover{\r\n    background-color: beige;\r\n    cursor: pointer;    \r\n}\r\n\r\n.templateItem {\r\n    padding: 6px;\r\n    margin-top: 1px;\r\n    color: ghostwhite;\r\n    background-color: saddlebrown;\r\n}\r\n\r\n.templateMonster{\r\n    padding: 6px;\r\n    margin-top: 1px;\r\n    background-color: coral;\r\n}\r\n\r\n.progressBarContainer {\r\n        width: 10px;\r\n        float: right;\r\n        height: 100%;\r\n        background: #c9d250;\r\n\r\n        .progressBar {\r\n            width: 10px;\r\n            height: 100%;\r\n            transition: height 1s;\r\n            background: red;\r\n        }\r\n    }\r\n\r\n.battleStackItem{\r\n    height: 200px;\r\n    width: 160px;\r\n    padding: 6px;\r\n    margin-top: 1px;\r\n    margin-left: 1px;\r\n    background-color: coral;\r\n    color:whitesmoke;\r\n    font-weight: 600;\r\n    float: left;\r\n\r\n    &.empty{\r\n        background-color: #b1b1b1;\r\n        color: white;\r\n    }\r\n}\r\n\r\n.battleStackEmptyItem{\r\n    .battleStackItem;\r\n    background-color: darkslategray;\r\n}\r\n\r\n.monsterTemplateItem{\r\n    height: 100px;\r\n    width: 80px;\r\n    padding: 6px;\r\n    margin-top: 1px;\r\n    margin-left: 1px;\r\n    background-color: coral;\r\n    color:whitesmoke;\r\n    font-weight: 600;\r\n    float: left;\r\n\r\n    &.empty{\r\n        background-color: #b1b1b1;\r\n        color: white;\r\n    }\r\n}\r\n\r\n.battleStackEmptyItem{\r\n    .battleStackItem;\r\n    background-color: darkslategray;\r\n}\r\n\r\n.inventoryItem {\r\n    background-color: darkslategray;\r\n    padding: 4px;\r\n    margin-top: 1px;\r\n    color: white;\r\n}\r\n\r\n.lootItem{\r\n    .component;\r\n    padding: 6px;\r\n    margin-top: 1px;\r\n    margin-left: 1px;\r\n    background-color: gray;\r\n    color:whitesmoke;\r\n    font-weight: 600;\r\n    font-size: 14px;\r\n}\r\n\r\n.lootItem:hover{\r\n    background-color: cadetblue;\r\n    cursor: pointer;    \r\n}\r\n\r\n.noselect {\r\n    -webkit-touch-callout: none;\r\n    -webkit-user-select: none;\r\n    -khtml-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n}\r\n\r\n.clearfix{\r\n    clear:both;\r\n    overflow: none;\r\n}\r\n\r\n.modal-window\r\n{\r\n    font-family: 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;\r\n    background-color: white;\r\n    position: fixed;\r\n    z-index: 99999;\r\n    border-radius: 5px;\r\n    padding: 22px;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    -webkit-transform: translate(-50%, -50%);\r\n    max-height: 70%;\r\n\r\n    .close-button {\r\n        float: right;\r\n    }\r\n}\r\n\r\n.modal-window-overlay\r\n{\r\n    background-color: black;\r\n    -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=40)\";\r\n    background-color: rgba(0, 0, 0, 0.4);\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    z-index: 10000;\r\n}\r\n\r\n.template-controls\r\n{\r\n    float: right;\r\n}",null,null,null,null,null,null,null,null,null,null,null],"sourceRoot":"../src"}